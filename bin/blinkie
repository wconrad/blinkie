#!/usr/bin/env ruby

require "gosu"

class GameWindow < Gosu::Window

  def initialize
    super 640, 480
    self.caption = "Gosu Tutorial Game"
    @led_off_image = Gosu::Image.new(image_path("led-off.png"))
    @led_on_image = Gosu::Image.new(image_path("led-on.png"))
  end

  def needs_cursor?
    true
  end

  def update
  end

  def draw
    scale = 1.0
    if rand < 0.5
      @led_off_image.draw(0, 0, 0, scale, scale);
    else
      @led_on_image.draw(0, 0, 0, scale, scale);
    end
    @led_on_image.draw(@led_off_image.width, 0, 0, scale, scale);
  end

  def image_dir
    File.join(__dir__, "../lib/images")
  end

  def image_path(filename)
    File.join(image_dir, filename)
  end

end

window = GameWindow.new
window.show
